sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/ui/model/Filter","projects/util/formatter","sap/ui/core/SeparatorItem","sap/m/GroupHeaderListItem","sap/m/Token","sap/ui/model/FilterOperator","sap/base/util/deepExtend","sap/m/MessageBox","sap/ui/export/library","sap/ui/export/Spreadsheet","sap/ui/core/Fragment"],function(e,t,a,s,o,i,r,n,p,d,c,l,u){"use strict";const g=c.EdmType;return e.extend("projects.controller.pdp.homepage",{formatter:s,onInit:function(){this._pdpStyleId="pdp-css";if(!document.getElementById(this._pdpStyleId)){const e=document.createElement("link");e.id=this._pdpStyleId;e.rel="stylesheet";e.type="text/css";e.href=sap.ui.require.toUrl("projects/css/pdp.css");document.head.appendChild(e)}this._setTeamModel();this._setTeamPDPs();this._setSmallerModels();this._setPersonalPDPs();this._setInitiatives();this._setTeamPDPModels();this._startFilterBar();this._teamPDPData=[];this._i18n=this.getOwnerComponent().getModel("i18n").getResourceBundle();this._opened=[];var e=this.getOwnerComponent().getRouter();e.getRoute("pdpHomepage").attachMatched(function(e){sap.ui.getCore().applyTheme("sap_horizon")},this)},onNavBack:function(){this.getOwnerComponent().getRouter().navTo("RouteHomepage")},_setTeamModel:function(){const e=[{text:"100234 - Olivia Bennett",key:"100234",department:"Human Resources",nodes:[{text:"100239 - Liam Carter",key:"100239",department:"Human Resources"},{text:"100240 - Emma Rodriguez",key:"100240",department:"Human Resources"}]},{text:"100235 - Noah Kim",key:"100235",department:"Finance & Accounting"},{text:"100236 - Ava Thompson",key:"100236",department:"Finance & Accounting"},{text:"100237 - Elijah Singh",key:"100237",department:"Finance & Accounting"},{text:"100238 - Sophia Nguyen",key:"100238",department:"Research and Development",nodes:[{text:"100241 - James Patel",key:"100241",department:"Research and Development"},{text:"100242 - Isabella Rivera",key:"100242",department:"Research and Development"},{text:"100243 - Lucas Martin",key:"100243",department:"Research and Development"},{text:"100244 - Mia Schroeder",key:"100244",department:"Research and Development"},{text:"100245 - Ethan O'Connell",key:"100245",department:"Research and Development"}]}];this.getView().setModel(new t(e),"teamsModel");setTimeout(()=>{this.onPressSelectAll()},500)},_setTeamPDPs:function(){const e=[{Titulo:"PDP 2025",Nome:"Olivia Bennett",DatadeInicio:new Date("2025","0","01"),EndDate:new Date("2025","11","31"),Status:"1",NColab:"100234",pId:"pdp2025"},{Titulo:"PDP 2024",Nome:"Olivia Bennett",DatadeInicio:new Date("2024","0","01"),EndDate:new Date("2024","11","31"),Status:"3",NColab:"100234",pId:"pdp2024"},{Titulo:"PDP 2025",Nome:"Noah Kim",DatadeInicio:new Date("2025","0","01"),EndDate:new Date("2025","11","31"),Status:"2",NColab:"100235",pId:"pdp2025"},{Titulo:"PDP 2025",Nome:"Ava Thompson",DatadeInicio:new Date("2025","0","01"),EndDate:new Date("2025","11","31"),Status:"3",NColab:"100236",pId:"pdp2025"},{Titulo:"PDP 2025",Nome:"Elijah Singh",DatadeInicio:new Date("2025","0","01"),EndDate:new Date("2025","11","31"),Status:"3",NColab:"100237",pId:"pdp2025"},{Titulo:"PDP 2025",Nome:"Sophia Nguyen",DatadeInicio:new Date("2025","0","01"),EndDate:new Date("2025","11","31"),Status:"3",NColab:"100238",pId:"pdp2025"},{Titulo:"PDP 2025",Nome:"Liam Carter",DatadeInicio:new Date("2025","0","01"),EndDate:new Date("2025","11","31"),Status:"3",NColab:"100239",pId:"pdp2025"}];this.getView().setModel(new t(e),"TeamPDP")},_setPersonalPDPs:function(){const e=[{Titulo:"PDP 2025",Nome:"Brandon Murray",DatadeInicio:new Date("2025","0","01"),EndDate:new Date("2025","11","31"),Status:"2",NColab:"100210",pId:"pdp2025"},{Titulo:"PDP 2024",Nome:"Brandon Murray",DatadeInicio:new Date("2024","0","01"),EndDate:new Date("2024","11","31"),Status:"3",NColab:"100210",pId:"pdp2024"}];this.getView().setModel(new t(e),"PersonalPDP")},_setInitiatives:function(){const e=[{cust_objLibraryId:"896166",cust_objName:"Gestão",cust_initiativeType:"1",cust_objDesc:"GESTÃO E LIDERANÇA",mdfSystemStatus:"A",externalName:"Gestão"},{cust_objLibraryId:"896167",cust_objName:"Liderança",cust_initiativeType:"1",cust_objDesc:"GESTÃO E LIDERANÇA",mdfSystemStatus:"A",externalName:"Liderança"},{cust_objLibraryId:"896168",cust_objName:"Dados",cust_initiativeType:"1",cust_objDesc:"TÉCNICA E DIGITAL",mdfSystemStatus:"A",externalName:"Dados"},{cust_objLibraryId:"896175",cust_objName:"Cloud",cust_initiativeType:"1",cust_objDesc:"TECNOLOGIA",mdfSystemStatus:"A",externalName:"Cloud"}];this.getView().setModel(new t(e),"libraryObjectives");const a=[{externalCode:"1",description:"Campus"},{externalCode:"2",description:"Auto-desenvolvimento"},{externalCode:"3",description:"Projeto"},{externalCode:"4",description:"Outras Formações"}];this.getView().setModel(new t(a),"initiativeList")},_setTeamPDPModels:function(){const e=[{ncolab:"100234",pId:"pdp2025",cust_objectiveName:"Projeto PRR / AMI / Testbed 5G",cust_objectiveDesc:"Participação em projetos transversais ao nível da direção, permitindo ter contactos com outras realidades e conhecimentos, podendo transportar e capitalizar os mesmos para a equipa",cust_initiativeType:"2",cust_createdByManager:true,cust_objLibraryId:"",cust_objectiveRealDate:new Date("2025","11","31"),cust_objectiveObs:"",cust_objectiveStatus:1},{ncolab:"100234",pId:"pdp2025",cust_objectiveName:"Ferramentas",cust_objectiveDesc:"TRANSVERSAL",cust_initiativeType:"1",cust_createdByManager:true,cust_objLibraryId:"123",cust_objectiveRealDate:new Date("2025","11","26"),cust_objectiveObs:"Formação em PowerBI, como meio de poder melhor gerir e controlar os projetos à sua responsabilidade e poder melhorar tb o reporting de atividade, de forma mais eficaz, e com menor esforço.",cust_objectiveStatus:1},{ncolab:"100234",pId:"pdp2025",cust_objectiveName:"Liderança",cust_objectiveDesc:"GESTÃO E LIDERANÇA",cust_initiativeType:"1",cust_createdByManager:true,cust_objLibraryId:"123",cust_objectiveRealDate:new Date("2025","11","27"),cust_objectiveObs:"Liderar a Transformação Digital | Melhorar as softskills de gestão de equipa; Melhorar gestão da relação com stakeholders",cust_objectiveStatus:1},{ncolab:"100235",pId:"pdp2025",cust_objectiveName:"Ferramentas",cust_objectiveDesc:"TRANSVERSAL",cust_initiativeType:"1",cust_createdByManager:true,cust_objLibraryId:"123",cust_objectiveRealDate:new Date("2025","11","26"),cust_objectiveObs:"Formação em PowerBI, como meio de poder melhor gerir e controlar os projetos à sua responsabilidade e poder melhorar tb o reporting de atividade, de forma mais eficaz, e com menor esforço.",cust_objectiveStatus:1},{ncolab:"100235",pId:"pdp2025",cust_objectiveName:"Liderança",cust_objectiveDesc:"GESTÃO E LIDERANÇA",cust_initiativeType:"1",cust_createdByManager:true,cust_objLibraryId:"123",cust_objectiveRealDate:new Date("2025","11","27"),cust_objectiveObs:"Liderar a Transformação Digital | Melhorar as softskills de gestão de equipa; Melhorar gestão da relação com stakeholders",cust_objectiveStatus:1},{ncolab:"100235",pId:"pdp2025",cust_objectiveName:"Transformação Digital",cust_objectiveDesc:"TÉCNICA E DIGITAL",cust_initiativeType:"1",cust_createdByManager:true,cust_objLibraryId:"123",cust_objectiveRealDate:new Date("2025","11","27"),cust_objectiveObs:"Automação Awareness | Oportunidades de melhoria ao nível da estruturação de informação de gestão de projetos, bem como automação de tarefas de menor valor",cust_objectiveStatus:1},{ncolab:"100236",pId:"pdp2025",cust_objectiveName:"Projeto PRR / AMI / Testbed 5G",cust_objectiveDesc:"Participação em projetos transversais ao nível da direção, permitindo ter contactos com outras realidades e conhecimentos, podendo transportar e capitalizar os mesmos para a equipa",cust_initiativeType:"2",cust_createdByManager:true,cust_objLibraryId:"",cust_objectiveRealDate:new Date("2025","11","31"),cust_objectiveObs:"",cust_objectiveStatus:1},{ncolab:"100236",pId:"pdp2025",cust_objectiveName:"Ferramentas",cust_objectiveDesc:"TRANSVERSAL",cust_initiativeType:"1",cust_createdByManager:true,cust_objLibraryId:"123",cust_objectiveRealDate:new Date("2025","11","26"),cust_objectiveObs:"Formação em PowerBI, como meio de poder melhor gerir e controlar os projetos à sua responsabilidade e poder melhorar tb o reporting de atividade, de forma mais eficaz, e com menor esforço.",cust_objectiveStatus:1},{ncolab:"100236",pId:"pdp2025",cust_objectiveName:"Liderança",cust_objectiveDesc:"GESTÃO E LIDERANÇA",cust_initiativeType:"1",cust_createdByManager:true,cust_objLibraryId:"123",cust_objectiveRealDate:new Date("2025","11","27"),cust_objectiveObs:"Liderar a Transformação Digital | Melhorar as softskills de gestão de equipa; Melhorar gestão da relação com stakeholders",cust_objectiveStatus:1},{ncolab:"100239",pId:"pdp2025",cust_objectiveName:"Projeto PRR / AMI / Testbed 5G",cust_objectiveDesc:"Participação em projetos transversais ao nível da direção, permitindo ter contactos com outras realidades e conhecimentos, podendo transportar e capitalizar os mesmos para a equipa",cust_initiativeType:"2",cust_createdByManager:true,cust_objLibraryId:"",cust_objectiveRealDate:new Date("2025","11","31"),cust_objectiveObs:"",cust_objectiveStatus:1},{ncolab:"100239",pId:"pdp2025",cust_objectiveName:"Ferramentas",cust_objectiveDesc:"TRANSVERSAL",cust_initiativeType:"1",cust_createdByManager:true,cust_objLibraryId:"123",cust_objectiveRealDate:new Date("2025","11","26"),cust_objectiveObs:"Formação em PowerBI, como meio de poder melhor gerir e controlar os projetos à sua responsabilidade e poder melhorar tb o reporting de atividade, de forma mais eficaz, e com menor esforço.",cust_objectiveStatus:1},{ncolab:"100239",pId:"pdp2025",cust_objectiveName:"Liderança",cust_objectiveDesc:"GESTÃO E LIDERANÇA",cust_initiativeType:"1",cust_createdByManager:true,cust_objLibraryId:"123",cust_objectiveRealDate:new Date("2025","11","27"),cust_objectiveObs:"Liderar a Transformação Digital | Melhorar as softskills de gestão de equipa; Melhorar gestão da relação com stakeholders",cust_objectiveStatus:1}];this.getOwnerComponent().setModel(new t(e),"objTab")},_setSmallerModels:function(){const e=[{externalCode:"1",description:"Inicial"},{externalCode:"2",description:"Revisão"},{externalCode:"3",description:"Final"}];this.getOwnerComponent().setModel(new t(e),"statusList");const a=[{cust_pdpId:"pdp2025",cust_pdpName:"PDP 2025"},{cust_pdpId:"pdp2024",cust_pdpName:"PDP 2024"}];this.getOwnerComponent().setModel(new t(a),"pdpConfigData")},onFinishPersPDPUpdate:function(){this.byId("pdp-PersPDP").setBusy(false)},onLogout:function(){window.location.href="./do/logout"},createColumnConfig:function(){var e=[];e.push({label:"Nome do Plano",property:"pdpTitle",type:g.String});e.push({label:"Nome do Colaborador",type:g.String,property:"empName"});e.push({label:"Status do Plano",property:"planStat",type:g.String});e.push({label:"Título da Iniciativa",property:"iniTitle",type:g.String});e.push({label:"Status da Iniciativa",property:"iniStatus",type:g.String});e.push({label:"Data de realização",property:"realDate",type:g.Date});e.push({label:"Tipo de Iniciativa",property:"iniType",type:g.String});e.push({label:"Criador",property:"createdByMgr",type:g.Boolean,trueValue:"Chefia",falseValue:"Colaborador"});return e},onExport:function(){this.byId("pdp-page").setBusy(true);var e=this;var a=e.getOwnerComponent().getModel("i18n").getResourceBundle();d.confirm(a.getText("pdp.exportConfirm"),{actions:[a.getText("pdp.buttonConfirmText"),d.Action.CANCEL],emphasizedAction:a.getText("pdp.buttonConfirmText"),styleClass:"mySubmitButton2",onClose:function(a){if(a===this.actions[0]){var s=e.getView().getModel();var o=e.getView().getModel("TeamPDP").oData.data;for(var i=0;i<o.length;i++){var r="cust_pdpEmployees_cust_empId eq '"+o[i].NColab+"' and cust_pdpConfig_cust_pdpId eq '"+o[i].pId+"'";s.read("/cust_pdpObjectives",{urlParameters:{$filter:r,operation:"getMassObjectives"},groupId:"group1"})}s.submitChanges({groupId:"group1",success:function(a){var s=[];var i=a.__batchResponses;for(var r=0;r<o.length;r++){for(var n=0;n<i[r].data.results.length;n++){var p={pdpTitle:o[r].Titulo,empName:o[r].Nome,planStat:o[r].Status,iniTitle:i[r].data.results[n].cust_objectiveName,iniStatus:"",realDate:i[r].data.results[n].cust_objectiveRealDate,iniType:"",createdByMgr:i[r].data.results[n].cust_createdByManager};var d=e.getView().getModel("objStatusList");for(var c=0;c<d.getData().length;c++){if(d.getData()[c].externalCode===i[r].data.results[n].cust_objectiveStatus){p.iniStatus=d.getData()[c].description}}var u=e.getView().getModel("initiativeList");for(var c=0;c<u.getData().length;c++){if(u.getData()[c].externalCode===i[r].data.results[n].cust_initiativeType){p.iniType=u.getData()[c].description}}var g=e.getView().getModel("statusList");for(var c=0;c<g.getData().length;c++){if(g.getData()[c].externalCode===o[r].Status){p.planStat=g.getData()[c].description}}s.push(p)}}var b=new t(s);var m=e.createColumnConfig();var v={workbook:{columns:m,hierarchyLevel:"Level"},dataSource:b.getProperty("/"),fileName:"DirectReportExport.xlsx",worker:false};var h=new l(v);e.byId("pdp-page").setBusy(false);h.build().finally(function(){h.destroy()})}})}else{e.byId("pdp-page").setBusy(false)}}})},onPressSelectAll:function(){if(this.byId("pdp-myTeam").getSelectedItems().length===this.byId("pdp-myTeam").getItems().length){this.byId("pdp-myTeam").removeSelections()}else{this.byId("pdp-myTeam").selectAll()}this.onSelectEmployee()},onSelectEmployee:function(){var e=this.getView().byId("pdp-filterBar").getFilterGroupItems();e[0].getControl().setSelectedKey();e[1].getControl().setSelectedKey();e[2].getControl().setValue();var t=this.getView().byId("pdp-myTeam").getSelectedItems();var s=[];s.push(new a("NColab","EQ","a"));for(var o=0;o<t.length;o++){s.push(new a("NColab","EQ",t[o].getBindingContext("teamsModel").getProperty("key")))}this.getView().byId("pdp-chefiaTable").getBinding("items").filter(s)},_startFilterBar:function(){var e=this.getOwnerComponent().getModel("i18n").getResourceBundle();var t=this.getView().byId("pdp-filterBar");t.addEventDelegate({onAfterRendering:function(e){var t=e.srcControl._getSearchButton().setVisible(false)}})},onFilterTable:function(){var e=this.getView().byId("pdp-filterBar").getFilterGroupItems();var t=e[2].getControl().getValue();var s=[];s.push(new a("NColab","EQ","a"));var o=this.getView().byId("pdp-myTeam").getSelectedItems();for(var i=0;i<o.length;i++){s.push(new a("NColab","EQ",o[i].getBindingContext("teamsModel").getProperty("key")))}if(t!==""){var r=t.split(" ")[0].split("/");var n=t.split(" ")[2].split("/");var p=new Date(r[2],r[1]-1,r[0]);var d=new Date(n[2],n[1]-1,n[0]);s.push(new a({filters:[new a("DatadeInicio","LE",d),new a("EndDate","GE",p)],and:true}))}if(e[1].getControl().getValue()!==""){s.push(new a("Status","EQ",e[1].getControl().getSelectedKey()))}if(e[0].getControl().getValue()!==""){s.push(new a("pId","EQ",e[0].getControl().getSelectedKey()))}this.getView().byId("pdp-chefiaTable").getBinding("items").filter(s)},onNavEmpPlan:function(e){var a=e.getSource().getBindingContext("PersonalPDP").getPath().split("/")[2];var s=this.getView().getModel("PersonalPDP").getData().data[a];var o=this._personalPDP.find(e=>e.cust_pdpConfig_cust_pdpId===s.pId);var i=this.getOwnerComponent().getModel("pdpConfigData").getData().find(e=>e.cust_pdpId===s.pId);var r={pId:s.pId,sPDP:o,pdpConfig:i};var n=new t(r);this.getOwnerComponent().setModel(n,"routingInfo");this.getOwnerComponent().getRouter().navTo("RouteEmpPlanPage")},onOpenPlan:function(e){var a=e.getSource().getBindingContext("TeamPDP").getProperty();var s=a.Nome;var o=a.pId;var i=a.NColab;var r={pId:o,uId:i,pdps:a,cname:s,status:a.Status};var n=new t(r);this.getOwnerComponent().setModel(n,"routingInfo");const p=this.getView().getModel("teamsModel").getData();const d=p.find(e=>e.key===i);if(d){this.getOwnerComponent().getRouter().navTo("pdpMgrPlanPage");return}this.getOwnerComponent().getRouter().navTo("pdpVOPlanPage")},onOpenMassObj:function(){this._fragmentId="massObj";if(!this._massObj){this._massObj=sap.ui.xmlfragment("projects.fragment.pdp.MassCreateObj",this);this.getView().addDependent(this._massObj)}this._massObj.setModel(this.getView().getModel("TeamPDP"),"TeamPDP");this._massObj.setModel(this.getView().getModel("initiativeList"),"initiativeList");var e=new Date;var t=[];t.push(new a({filters:[new a("DatadeInicio","LE",e),new a("EndDate","GE",e),new a({filters:[new a("Status","EQ","1"),new a("Status","EQ","3")],and:false})],and:true}));sap.ui.getCore().byId("pdp-libObjColab").setSelectedItems();sap.ui.getCore().byId("pdp-idMassObjCustColabs").setSelectedItems();sap.ui.getCore().byId("pdp-multiInput").removeAllTokens();sap.ui.getCore().byId("pdp-libObjColab").setSelectedKeys();sap.ui.getCore().byId("pdp-idDatePickerAssign").setDateValue();sap.ui.getCore().byId("pdp-idMassLibObs").setValue();sap.ui.getCore().byId("pdp-chooseObjButton").setSelectedKey("lib");sap.ui.getCore().byId("pdp-idInputCObj").setValue();sap.ui.getCore().byId("pdp-idTextAreaCObj").setValue();sap.ui.getCore().byId("pdp-idMassObjCustColabs").setSelectedKeys();sap.ui.getCore().byId("pdp-idMassObjSelCust").setSelectedKey();sap.ui.getCore().byId("pdp-idDatePickerCustObjMass").setDateValue();sap.ui.getCore().byId("pdp-idObservCustObjMass").setValue();sap.ui.getCore().byId("pdp-libObjColab").getBinding("items").filter(t);sap.ui.getCore().byId("pdp-idMassObjCustColabs").getBinding("items").filter(t);sap.ui.getCore().byId("pdp-addObjectivesCust").setVisible(false);sap.ui.getCore().byId("pdp-addObjectivesLib").setVisible(true);this._massObj.open()},onChangeObj:function(e){var t=e.getSource().getSelectedKey();if(t==="lib"){sap.ui.getCore().byId("pdp-addObjectivesCust").setVisible(false);sap.ui.getCore().byId("pdp-addObjectivesLib").setVisible(true)}else{sap.ui.getCore().byId("pdp-addObjectivesLib").setVisible(false);sap.ui.getCore().byId("pdp-addObjectivesCust").setVisible(true)}},onExitMassObj:function(){this._massObj.close()},onCreateMassObj:function(){this._flag=0;this.byId("pdp-page").setBusy(true);var e=sap.ui.getCore().byId("pdp-chooseObjButton").getSelectedKey();var t=this;switch(e){case"lib":var a=sap.ui.getCore().byId("pdp-multiInput").getTokens();var s=sap.ui.getCore().byId("pdp-libObjColab").getSelectedKeys();var o=sap.ui.getCore().byId("pdp-idDatePickerAssign").getDateValue();var i=sap.ui.getCore().byId("pdp-idMassLibObs").getValue();if(a.length===0||s.length===0||o===null){var r=t.getOwnerComponent().getModel("i18n").getResourceBundle();d.error(r.getText("pdp.missingFields"));this.byId("pdp-page").setBusy(false);return}this._flag=0;for(var n=0;n<a.length;n++){for(let e=0;e<s.length;e++){const t=this.getView().getModel("libraryObjectives").getData();const r=t.find(e=>e.cust_objLibraryId===a[n].getKey());const p={ncolab:s[e].split(" ")[0],pId:s[e].split(" ")[1],cust_objectiveName:r.cust_objName,cust_objectiveDesc:r.cust_objDesc,cust_initiativeType:r.cust_initiativeType,cust_createdByManager:true,cust_objLibraryId:r.cust_objLibraryId,cust_objectiveRealDate:o,cust_objectiveObs:i,cust_objectiveStatus:1};const d=this.getOwnerComponent().getModel("objTab").getData();d.push(p);this.getOwnerComponent().getModel("objTab").setData(d)}}break;case"new":var p=sap.ui.getCore().byId("pdp-idInputCObj").getValue();var c=sap.ui.getCore().byId("pdp-idTextAreaCObj").getValue();var s=sap.ui.getCore().byId("pdp-idMassObjCustColabs").getSelectedKeys();var l=sap.ui.getCore().byId("pdp-idMassObjSelCust").getSelectedKey();var o=sap.ui.getCore().byId("pdp-idDatePickerCustObjMass").getDateValue();var i=sap.ui.getCore().byId("pdp-idObservCustObjMass").getValue();if(p===""||c===""||s.length===0||o===null){var r=t.getOwnerComponent().getModel("i18n").getResourceBundle();d.error(r.getText("pdp.missingFields"));this.byId("pdp-page").setBusy(false);return}var u=this.getView().getModel();var g=this.getView().getModel("TeamPDP").oData.data;for(let e=0;e<s.length;e++){const t={ncolab:s[e].split(" ")[0],pId:s[e].split(" ")[1],cust_objectiveName:p,cust_objectiveDesc:c,cust_initiativeType:l,cust_createdByManager:true,cust_objLibraryId:"",cust_objectiveRealDate:o,cust_objectiveObs:i,cust_objectiveStatus:1};const a=this.getOwnerComponent().getModel("objTab").getData();a.push(t);this.getOwnerComponent().getModel("objTab").setData(a)}break}var r=t.getOwnerComponent().getModel("i18n").getResourceBundle();d.success(r.getText("pdp.addMassObjSuccess"));t.byId("pdp-page").setBusy(false);this._massObj.close()},_valueHelpUpdateFinished:function(){sap.ui.getCore().byId("pdp-libObjSearchMass").setBusy(false)},handleValueHelp:function(){var e=this.getView();if(!this._pValueHelpDialog){this._pValueHelpDialog=sap.ui.xmlfragment("projects.fragment.pdp.ValueHelpMass",this);e.addDependent(this._pValueHelpDialog)}this._pValueHelpDialog.open()},getGroupHeader:function(e){var t=this.getView().getModel("initiativeList");for(var a=0;a<t.getData().length;a++){if(t.getData()[a].externalCode===e.key){var s=t.getData()[a].description}}return new i({title:s,upperCase:false})},_handleValueHelpSearch:function(e){var t=e.getParameter("value");var s=new a("cust_objName",sap.ui.model.FilterOperator.Contains,t);e.getSource().getBinding("items").filter([s])},_handleValueHelpClose:function(e){var t=e.getParameter("selectedItems"),a=sap.ui.getCore().byId("pdp-multiInput");a.removeAllTokens();e.getSource()._aSelectedItems=[];if(t&&t.length>0){t.forEach(function(e){a.addToken(new r({text:e.getTitle(),key:e.getAggregation("customData")[0].getKey()}))})}},handleTeamHelp:function(e){var t=e.getSource();var a=this.getOwnerComponent().getModel("i18n").getResourceBundle();if(!this._pPopover){this._pPopover=sap.ui.xmlfragment("projects.fragment.pdp.PopoverTeamHelp",this);this.getView().addDependent(this._pPopover)}this._pPopover.getAggregation("content")[0].getAggregation("content")[0].setText(a.getText("pdp.helpTextTeam"));this._pPopover.openBy(t)},handleActionsHelp:function(e){var t=e.getSource();var a=this.getOwnerComponent().getModel("i18n").getResourceBundle();if(!this._pPopover){this._pPopover=sap.ui.xmlfragment("projects.fragment.pdp.PopoverTeamHelp",this);this.getView().addDependent(this._pPopover)}this._pPopover.getAggregation("content")[0].getAggregation("content")[0].setText(a.getText("pdp.helpActionsTeam"));this._pPopover.openBy(t)},onClosePopover:function(){this._pPopover.close()}})});
//# sourceMappingURL=homepage.controller.js.map